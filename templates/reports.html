{% extends "base_dashboard.html" %}

{% block content %}
<div class="row">
    <div class="col-12">
        <div class="card">
            <div class="card-header">
                <h4 class="mb-0">๐ ุณุณุชู ฺฏุฒุงุฑุดโฺฏุฑ</h4>
            </div>
            <div class="card-body">
                <!-- ฺฏุฒุงุฑุด ฑ: ูุถุนุช ุฏุฑ ุฒูุงู ุฎุงุต -->
                <div class="card mb-4">
                    <div class="card-header bg-light">
                        <h5 class="mb-0">โฐ ฺฏุฒุงุฑุด ูุถุนุช ุฏุฑ ุฒูุงู ุฎุงุต</h5>
                    </div>
                    <div class="card-body">
                        <p>ูุดุงูุฏู ูุถุนุช ุชูุงู ูพููพโูุง ุฏุฑ ฺฉ ุชุงุฑุฎ ู ุณุงุนุช ูุดุฎุต ุงุฒ ฺฏุฐุดุชู</p>
                        <form action="/report/status-at-time" method="GET" class="row g-3">
                            <div class="col-md-4">
                                <label class="form-label">ุชุงุฑุฎ (ุดูุณ)</label>
                                <input type="text" class="form-control" name="date" placeholder="1402/10/25" required>
                            </div>
                            <div class="col-md-3">
                                <label class="form-label">ุณุงุนุช</label>
                                <input type="time" class="form-control" name="time" required>
                            </div>
                            <div class="col-md-3">
                                <label class="form-label">ููุน ููุงุด</label>
                                <select class="form-select" name="display_type">
                                    <option value="off">ูพููพโูุง ุฎุงููุด</option>
                                    <option value="on">ูพููพโูุง ุฑูุดู</option>
                                    <option value="all">ููู ูพููพโูุง</option>
                                </select>
                            </div>
                            <div class="col-md-2">
                                <label class="form-label">&nbsp;</label>
                                <button type="submit" class="btn btn-primary w-100">ูุดุงูุฏู ฺฏุฒุงุฑุด</button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- ฺฏุฒุงุฑุด ฒ: ุณุงุนุงุช ฺฉุงุฑฺฉุฑุฏ -->
                <div class="card mb-4">
                    <div class="card-header bg-light">
                        <h5 class="mb-0">๐ ฺฏุฒุงุฑุด ุณุงุนุงุช ฺฉุงุฑฺฉุฑุฏ</h5>
                    </div>
                    <div class="card-body">
                        <p>ูุญุงุณุจู ุณุงุนุงุช ฺฉุงุฑฺฉุฑุฏ ูพููพโูุง ุฏุฑ ุจุงุฒู ุฒูุงู ูุดุฎุต</p>
                        <form action="/report/operating-hours" method="GET" class="row g-3" id="hoursReportForm">
                            <div class="col-md-4" id="dailyDateField">
                                <label class="form-label">ุชุงุฑุฎ (ุดูุณ)</label>
                                <input type="text" class="form-control" name="date" placeholder="1402/10/25" >
                            </div>
                            <div class="col-md-4" id="monthlyDateField" style="display: none;">
                                <label class="form-label">ูุงู ู ุณุงู (ุดูุณ)</label>
                                <input type="text" class="form-control" name="month" placeholder="1402/10">
                            </div>
                            <div class="col-md-3">
                                <label class="form-label">ููุน ฺฏุฒุงุฑุด</label>
                                <select class="form-select" name="report_type" id="reportType">
                                    <option value="daily">ุฑูุฒุงูู</option>
                                    <option value="monthly">ูุงูุงูู</option>
                                </select>
                            </div>
                            <div class="col-md-3">
                                <label class="form-label">&nbsp;</label>
                                <button type="submit" class="btn btn-success w-100">ูุดุงูุฏู ฺฏุฒุงุฑุด</button>
                            </div>
                        </form>
                    </div>
                </div>
                <!-- ฺฏุฒุงุฑุด ณ: ุชุงุฑุฎฺู ุชุบุฑุงุช -->
                <div class="card">
                    <div class="card-header bg-light">
                        <h5 class="mb-0">๐ ฺฏุฒุงุฑุด ุชุงุฑุฎฺู ุชุบุฑุงุช</h5>
                    </div>
                    <div class="card-body">
                        <p>ูุดุงูุฏู ุชุงุฑุฎฺู ฺฉุงูู ุชุบุฑุงุช ูุถุนุช ูพููพโูุง</p>
                        <form action="/report/full-history" method="GET" class="row g-3">
                            <div class="col-md-3">
                                <label class="form-label">ุงุฒ ุชุงุฑุฎ</label>
                                <input type="text" class="form-control" name="from_date" placeholder="1402/10/01">
                            </div>
                            <div class="col-md-3">
                                <label class="form-label">ุชุง ุชุงุฑุฎ</label>
                                <input type="text" class="form-control" name="to_date" placeholder="1402/10/30">
                            </div>
                            <div class="col-md-3">
                                <label class="form-label">ูพููพ ููุฑุฏ ูุธุฑ</label>
                                <select class="form-select" name="pump_id">
                                    <option value="all">ููู ูพููพโูุง</option>
                                    {% for i in range(1, 59) %}
                                    <option value="{{ i }}">ูพููพ {{ i }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                            <div class="col-md-3">
                                <label class="form-label">&nbsp;</label>
                                <button type="submit" class="btn btn-info w-100">ูุดุงูุฏู ฺฏุฒุงุฑุด</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
document.getElementById('reportType').addEventListener('change', function() {
    const isMonthly = this.value === 'monthly';
    document.getElementById('dailyDateField').style.display = isMonthly ? 'none' : 'block';
    document.getElementById('monthlyDateField').style.display = isMonthly ? 'block' : 'none';
});
</script>
{% endblock %}